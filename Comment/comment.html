<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Chức năng bình luận với LocalStorage</title>
    <link rel="stylesheet" href="style.css">
    
</head>

<body>
    <ul id="comment-list"></ul>
    <form id="comment-form">
        <input type="text" id="comment-input" placeholder="Thêm bình luận">
        <button type="submit">Gửi</button>
    </form>
    <script>
        // JavaScript
        const commentList = document.getElementById('comment-list');
        const commentForm = document.getElementById('comment-form');
        const commentInput = document.getElementById('comment-input');

        // Lấy danh sách bình luận từ localStorage hoặc tạo một mảng rỗng nếu không có
        let comments = JSON.parse(localStorage.getItem('comments')) || [];

        // Hiển thị danh sách bình luận lên trang web
        function showComments() {
            commentList.innerHTML = '';
            comments.forEach((comment, index) => {
                const li = document.createElement('li');
                li.textContent = comment;
                const editButton = document.createElement('button');
                editButton.textContent = 'Sửa';
                editButton.addEventListener('click', () => editComment(index, comment));
                const deleteButton = document.createElement('button');
                deleteButton.textContent = 'Xóa';
                deleteButton.addEventListener('click', () => deleteComment(index));
                li.appendChild(editButton);
                li.appendChild(deleteButton);
                commentList.appendChild(li);
            });
        }

        // Thêm bình luận mới vào danh sách
        function addComment(comment) {
            comments.push(comment);
            localStorage.setItem('comments', JSON.stringify(comments));
            showComments();
        }

        // Xóa bình luận khỏi danh sách
        function deleteComment(index) {
            comments.splice(index, 1);
            localStorage.setItem('comments', JSON.stringify(comments));
            showComments();
        }

        // Sửa bình luận trong danh sách
        function editComment(index, comment) {
            const newComment = prompt('Sửa bình luận', comment);
            if (newComment && newComment !== comment) {
                comments[index] = newComment;
                localStorage.setItem('comments', JSON.stringify(comments));
                showComments();
            }
        }

        // Xử lý sự kiện gửi bình luận
        commentForm.addEventListener('submit', event => {
            event.preventDefault();
            const comment = commentInput.value.trim();
            if (comment) {
                addComment(comment);
                commentInput.value = '';
            }
        });

        // Hiển thị danh sách bình luận ban đầu
        showComments();

    </script>
</body>

</html>